FROM python:3.11-slim

WORKDIR /app

# Install uv for fast dependency management
RUN pip install uv

# Copy dependency files
COPY pyproject.toml uv.lock* ./

# Install all dependencies including dev
RUN uv sync --all-extras

# Source code mounted as volume for hot-reload
VOLUME ["/app/src"]

CMD ["uv", "run", "streamlit", "run", "src/ui/app.py", "--server.port=8501"]
